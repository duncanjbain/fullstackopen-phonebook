(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),c=t.n(u),o=t(2),l=function(e){var n=e.addName,t=e.newName,a=e.handleNameChange,u=e.handlePhoneNumberChange,c=e.newPhoneNumber;return r.a.createElement("div",null,r.a.createElement("h3",null,"Add Phone Number"),r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t,onChange:a})),r.a.createElement("div",null,"phone number:"," ",r.a.createElement("input",{value:c,onChange:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))},i=function(e){var n=e.nameSearch,t=e.handleNameChange;return r.a.createElement("div",null,"filter names with"," ",r.a.createElement("input",{value:n,onChange:t}))},m=function(e){var n=e.personsToShow,t=e.deleteName;return r.a.createElement("div",null,r.a.createElement("h2",null,"Numbers"),n.map((function(e){return r.a.createElement("li",{key:e.id},e.name," - ",e.number," ",r.a.createElement("button",{onClick:function(){return t(e.id)},key:e.id},"Delete"))})))},s=t(3),h=t.n(s),d=function(){return h.a.get("/api/persons").then((function(e){return e.data}))},f=function(e){return h.a.post("/api/persons",e).then((function(e){return e.data}))},b=function(e){return h.a.delete("".concat("/api/persons","/").concat(e)).then((function(e){return e.data}))},p=function(e,n){return h.a.put("".concat("/api/persons","/").concat(e),n).then((function(e){return e.data}))},E=function(e){var n=e.message,t=e.type;return null===n?null:r.a.createElement("div",{className:t},n)},v=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)(""),s=Object(o.a)(c,2),h=s[0],v=s[1],N=Object(a.useState)(""),g=Object(o.a)(N,2),w=g[0],j=g[1],O=Object(a.useState)(""),S=Object(o.a)(O,2),C=S[0],y=S[1],k=Object(a.useState)(!1),P=Object(o.a)(k,2),T=P[0],D=P[1],x=Object(a.useState)(null),J=Object(o.a)(x,2),L=J[0],A=J[1],B=Object(a.useState)(""),I=Object(o.a)(B,2),q=I[0],z=I[1];Object(a.useEffect)((function(){d().then((function(e){return u(e)}))}),[T]);var F=t.filter((function(e){return e.name.toLowerCase().includes(C.toLowerCase())})),G=function(e){z("success"),A(e),setTimeout((function(){A(null)}),5e3)};return r.a.createElement("div",null,r.a.createElement(E,{message:L,type:q}),r.a.createElement("section",null,r.a.createElement("header",null,r.a.createElement("h2",null,"Phonebook")),r.a.createElement(i,{nameSearch:C,handleNameChange:function(e){y(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("h2",null,"Phone Numbers"),r.a.createElement(l,{addName:function(e){e.preventDefault();var n={name:h,number:w};if(t.some((function(e){return e.name===h}))){if(window.confirm('Sorry, the name "'.concat(h,'" already exists! Do you wish to update the existing number?'))){var a=t.find((function(e){return e.name===h})).id;p(a,n).then((function(e){u(t.map((function(n){return n.name!==a?n:e})))})).then(G("Success! The number for ".concat(h," has been updated."))),D(!0)}}else f(n).then((function(e){u(t.concat(e))})).then(G("Success! The number for ".concat(h," has been updated.")));v(""),j("")},newName:h,handleNameChange:function(e){v(e.target.value)},handlePhoneNumberChange:function(e){j(e.target.value)},newPhoneNumber:w})),r.a.createElement(m,{personsToShow:F,deleteName:function(e){if(window.confirm("Delete this person?")){var n=t.find((function(n){return n.id===e}));b(e).then(D(!0)).catch((function(e){var t;t="The person ".concat(n.name," has already been removed!"),z("error"),A(t),setTimeout((function(){A(null)}),5e3)}))}}}))};t(36);c.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.0503adcf.chunk.js.map